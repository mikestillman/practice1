# @configure_input@
include ../../../include/config.Makefile
VPATH = @srcdir@
CCTESTS = test_monomial.o
CTESTS = check_monomial.o \
	check_monordering.o \
	check_monoid.o

#test_monordering test_monoid test_ring test_freemodule test_vector \
#	test_matrix test_sparsemat test_lapack

CPPFLAGS += -I@srcdir@/.. -I../../util
LIBRARYFILES += ../libgb.a 

ifeq "$(OS)" "Darwin"
LDFLAGS += -multiply_defined suppress
endif

LDLIBS += $(LIBRARYFILES) $(LAPACKLIBS) -lfac -lcf -lntl $(LIBGMP) -lgc -lm -lc -lstdc++
CFLAGS += -g -ansi

COBJ = ../../d/M2types.o ../../d/M2inits.o util.o src_test/Ctest.o src_test/Csuite.o
CCOBJ = ../../d/M2types.o ../../d/M2inits.o util.o src_test/test.o src_test/suite.o

all :: check
check_cc : $(CCTESTS) $(CCOBJ) 
check_c : $(CTESTS) $(COBJ)
check : check_cc check_c
	./check_cc
	./check_c

Makefile : Makefile.in; cd ../../..; ./config.status Macaulay2/e/check/Makefile
clean::; rm -f *.o check_cc check_c
clean distclean::; $(MAKE) -C src_test $@
distclean::; rm -f Makefile

# Local Variables:
# compile-command: "make -C $M2BUILDDIR/Macaulay2/e/check"
# End:

