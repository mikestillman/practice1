# @configure_input@
include ../../../include/config.Makefile
VPATH = @srcdir@

TESTS = test_monomial.o
CTESTS = check_monomial.o

#test_monordering test_monoid test_ring test_freemodule test_vector \
#	test_matrix test_sparsemat test_lapack

CPPFLAGS += -I@srcdir@/.. -I../../util
LIBRARYFILES += ../libgb.a

ifeq "$(OS)" "Darwin"
LDFLAGS += -multiply_defined suppress
endif

LDLIBS += $(LIBRARYFILES) $(LAPACKLIBS) -lfac -lcf -lgmp -lgc -lm -lc -lstdc++

CFLAGS += -g -ansi

all :: check checkc

check_all : $(TESTS) ../../d/M2types.o util.o src_test/test.o src_test/suite.o

check_c : $(CTESTS) ../../d/M2types.o util.o src_test/Ctest.o src_test/Csuite.o

check : check_all
	./check_all

checkc : check_c
	./check_c

clean : 
	rm -f *.o check_all check_c

