# @configure_input@
include ../../../include/config.Makefile
VPATH = @srcdir@
DEPENDS = yes
include @srcdir@/../make.include

%.dep: %.cpp
	@ echo "$(CXX) -MM $(CPPFLAGS) $< >$*-tmp.dep && <$*-tmp.dep sed 's/\($*\)\.o[ :]*/\1.o $@ : /' >$@ && rm $*-tmp.dep" >> LOGFILE
	@ echo " ** creating $@ from $<"
	@ $(CXX) -MM $(CPPFLAGS) $< >$*-tmp.dep && <$*-tmp.dep sed 's/\($*\)\.o[ :]*/\1.o $@ : /' >$@ && rm $*-tmp.dep

%.dep: %.c
	@ echo "$(CC)  -MM $(CPPFLAGS) $< >$*-tmp.dep && <$*-tmp.dep sed 's/\($*\)\.o[ :]*/\1.o $@ : /' >$@ && rm $*-tmp.dep" >> LOGFILE
	@ echo " ** creating $@ from $<"
	@ $(CC)  -MM $(CPPFLAGS) $< >$*-tmp.dep && <$*-tmp.dep sed 's/\($*\)\.o[ :]*/\1.o $@ : /' >$@ && rm $*-tmp.dep

.PHONY : all place_into_lib

CCFILES := memblock MonomialOps Monomials MonomialSet MonomialTable interface lingb
CFILES := monoms
LINALGGB_FILES := $(CCFILES) $(CFILES)
# MonomialHeap 
LINALGGB_OBJECT_FILES :=  $(addsuffix .o, $(LINALGGB_FILES))

all :: $(LINALGGB_OBJECT_FILES)
check_it : $(LINALGGB_OBJECT_FILES) check_it.o
	gcc -o check_it check_it.o $(LINALGGB_OBJECT_FILES) -L/sw/lib -lgc

%.s : %.c; $(COMPILE.cc) -S $< $(OUTPUT_OPTION)

Makefile : Makefile.in; cd ../../..; ./config.status Macaulay2/e/linalgGB/Makefile
clean ::; rm -f *.o
distclean: clean; rm -f Makefile

clean::; rm -f *.dep dep-*.tmp
ifeq "$(DEPENDS)" "yes"
include $(CFILES:=.dep) $(CCFILES:=.dep)
endif

# Local Variables:
# compile-command: "make -C $M2BUILDDIR/Macaulay2/e/linalgGB "
# End:

